{
	"$schema": "https://shadcn-svelte.com/schema/registry-item.json",
	"name": "playground",
	"title": "AI Chat Playground",
	"type": "registry:block",
	"author": "SikandarJODD",
	"description": "A complete AI chat playground with OpenRouter integration, featuring prompt suggestions with icons, code viewer dialog, reasoning support, and FREE AI model. Perfect for testing and learning AI chat interfaces.",
	"dependencies": [
		"ai",
		"@ai-sdk/svelte",
		"@openrouter/ai-sdk-provider",
		"runed",
		"marked",
		"svelte-sonner",
		"@lucide/svelte"
	],
	"devDependencies": [
		"@lucide/svelte@^0.544.0"
	],
	"registryDependencies": [
		"button",
		"badge",
		"input",
		"label",
		"hover-card",
		"dialog",
		"tabs",
		"tooltip",
		"./message.json",
		"./conversation.json",
		"./action.json",
		"./response.json",
		"./reasoning.json",
		"./code.json",
		"./prompt-input.json",
		"./prompt-suggestion.json"
	],
	"meta": {
		"author": "SikandarJODD",
		"version": "1.0.0",
		"tags": [
			"playground",
			"chat",
			"ai",
			"openrouter",
			"example",
			"free-model",
			"suggestions"
		],
		"category": "Examples",
		"documentation": "https://svelte-ai-elements.vercel.app/playground",
		"repository": "https://github.com/SikandarJODD/ai-elements",
		"complexity": "advanced",
		"updated": "2025-11-02",
		"featured": true
	},
	"files": [
		{
			"content": "<script lang=\"ts\">\n\timport { DefaultChatTransport } from \"ai\";\n\timport { Chat } from \"@ai-sdk/svelte\";\n\timport { watch } from \"runed\";\n\timport { onMount } from \"svelte\";\n\timport {\n\t\tPlusIcon,\n\t\tCode,\n\t\tInfoIcon,\n\t\tCopy,\n\t\tRefreshCcw,\n\t\tThumbsUp,\n\t\tThumbsDown,\n\t\tBrain,\n\t\tArrowUp as ArrowUpIcon,\n\t\tKey as KeyIcon,\n\t\tTrash2 as Trash2Icon,\n\t\tFileText,\n\t\tPalette,\n\t\tSearch,\n\t\tTerminal,\n\t\tCheck,\n\t} from \"@lucide/svelte\";\n\n\t// UI Components\n\timport { Button } from \"$COMPONENTS$/ui/button\";\n\timport { Input } from \"$COMPONENTS$/ui/input\";\n\timport { Label } from \"$COMPONENTS$/ui/label\";\n\timport * as Tooltip from \"$COMPONENTS$/ui/tooltip\";\n\n\t// AI Elements Components\n\timport { Message, MessageContent } from \"$COMPONENTS$/ai-elements/message\";\n\timport {\n\t\tConversation,\n\t\tConversationContent,\n\t\tConversationScrollButton,\n\t} from \"$COMPONENTS$/ai-elements/conversation\";\n\timport { Actions, Action } from \"$COMPONENTS$/ai-elements/action\";\n\timport { Response } from \"$COMPONENTS$/ai-elements/response\";\n\timport {\n\t\tReasoning,\n\t\tReasoningTrigger,\n\t\tReasoningContent,\n\t} from \"$COMPONENTS$/ai-elements/reasoning\";\n\n\t// Prompt Kit Components\n\timport {\n\t\tPromptInput,\n\t\tPromptInputActions,\n\t\tPromptInputTextarea,\n\t} from \"$COMPONENTS$/prompt-kit/prompt-input\";\n\timport { PromptSuggestion } from \"$COMPONENTS$/prompt-kit/prompt-suggestion\";\n\n\t// Local Components\n\timport CodeViewerDialog from \"./components/code-viewer-dialog.svelte\";\n\timport AiInstallCommand from \"$COMPONENTS$/docs/ai-install-command.svelte\";\n\timport { toast } from \"svelte-sonner\";\n\timport { marked } from \"marked\";\n\timport { PUBLIC_WEBSITE_URL } from \"$env/static/public\";\n\n\t// State\n\tlet inputValue = $state(\"\");\n\tlet apiKey = $state(\"\");\n\tlet storedApiKey = $state(\"\");\n\tlet chat = $derived(\n\t\tnew Chat({\n\t\t\ttransport: new DefaultChatTransport({\n\t\t\t\tapi: \"/api/playground\",\n\t\t\t\theaders: storedApiKey\n\t\t\t\t\t? {\n\t\t\t\t\t\t\t\"X-API-Key\": storedApiKey,\n\t\t\t\t\t\t}\n\t\t\t\t\t: {},\n\t\t\t\tbody: storedApiKey\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tapiKey: storedApiKey,\n\t\t\t\t\t\t}\n\t\t\t\t\t: {},\n\t\t\t}),\n\t\t})\n\t);\n\tlet status = $state<\"idle\" | \"streaming\" | \"error\" | \"submitted\">(\"idle\");\n\tlet showCodeModal = $state(false);\n\tlet activeCategory = $state(\"\");\n\n\t// Load API key from localStorage on mount\n\tonMount(() => {\n\t\tconst saved = localStorage.getItem(\"openrouter-api-key\");\n\t\tif (saved) {\n\t\t\tstoredApiKey = saved;\n\t\t}\n\t});\n\n\t// Suggestion groups\n\tconst suggestionGroups = [\n\t\t{\n\t\t\tlabel: \"Summary\",\n\t\t\thighlight: \"Summarize\",\n\t\t\ticon: FileText,\n\t\t\titems: [\n\t\t\t\t\"Summarize a document\",\n\t\t\t\t\"Summarize a video\",\n\t\t\t\t\"Summarize a podcast\",\n\t\t\t\t\"Summarize a book\",\n\t\t\t\t\"Summarize an article\",\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tlabel: \"Code\",\n\t\t\thighlight: \"Help me\",\n\t\t\ticon: Code,\n\t\t\titems: [\n\t\t\t\t\"Help me write React components\",\n\t\t\t\t\"Help me debug code\",\n\t\t\t\t\"Help me learn Python\",\n\t\t\t\t\"Help me learn SQL\",\n\t\t\t\t\"Help me optimize performance\",\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tlabel: \"Design\",\n\t\t\thighlight: \"Design\",\n\t\t\ticon: Palette,\n\t\t\titems: [\n\t\t\t\t\"Design a small logo\",\n\t\t\t\t\"Design a hero section\",\n\t\t\t\t\"Design a landing page\",\n\t\t\t\t\"Design a social media post\",\n\t\t\t\t\"Design a mobile app UI\",\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tlabel: \"Research\",\n\t\t\thighlight: \"Research\",\n\t\t\ticon: Search,\n\t\t\titems: [\n\t\t\t\t\"Research the best practices for SEO\",\n\t\t\t\t\"Research the best running shoes\",\n\t\t\t\t\"Research the best restaurants in Paris\",\n\t\t\t\t\"Research the best AI tools\",\n\t\t\t\t\"Research the latest tech trends\",\n\t\t\t],\n\t\t},\n\t];\n\n\t// Get active category data\n\tlet activeCategoryData = $derived(\n\t\tsuggestionGroups.find((group) => group.label === activeCategory)\n\t);\n\n\t// Determine which suggestions to show\n\tlet showCategorySuggestions = $derived(activeCategory !== \"\");\n\n\t// Component badges data\n\tconst components = [\n\t\t{ name: \"Prompt Input\", type: \"ai-elements\" },\n\t\t{ name: \"Prompt Suggestion\", type: \"prompt-kit\" },\n\t\t{ name: \"Messages\", type: \"ai-elements\" },\n\t\t{ name: \"Conversation\", type: \"ai-elements\" },\n\t\t{ name: \"Actions\", type: \"ai-elements\" },\n\t\t{ name: \"Response\", type: \"ai-elements\" },\n\t\t{ name: \"Reasoning\", type: \"ai-elements\" },\n\t];\n\n\t// Handlers\n\tfunction handleSend() {\n\t\tif (inputValue.trim() && status === \"idle\") {\n\t\t\tchat.sendMessage({ text: inputValue });\n\t\t\tinputValue = \"\";\n\t\t\tactiveCategory = \"\";\n\t\t}\n\t}\n\n\tfunction handleKeyDown(e: KeyboardEvent) {\n\t\tif (e.key === \"Enter\" && !e.shiftKey) {\n\t\t\te.preventDefault();\n\t\t\thandleSend();\n\t\t}\n\t}\n\n\tfunction handlePromptInputValueChange(value: string) {\n\t\tinputValue = value;\n\t\t// Clear active category when typing something different\n\t\tif (value.trim() === \"\") {\n\t\t\tactiveCategory = \"\";\n\t\t}\n\t}\n\n\tlet handleSuggestionClick = (suggestion: string) => {\n\t\tinputValue = suggestion;\n\t\t// Optionally auto-send:\n\t\t// handleSend();\n\t};\n\n\tlet handleCategoryClick = (category: string) => {\n\t\tactiveCategory = category;\n\t\tinputValue = \"\"; // Clear input when selecting a category\n\t};\n\n\tfunction saveApiKey() {\n\t\tif (apiKey.trim()) {\n\t\t\tlocalStorage.setItem(\"openrouter-api-key\", apiKey.trim());\n\t\t\tstoredApiKey = apiKey.trim();\n\t\t\tapiKey = \"\";\n\t\t\t// Reload the page to reinitialize chat with new key\n\t\t\twindow.location.reload();\n\t\t}\n\t}\n\n\tfunction clearApiKey() {\n\t\tlocalStorage.removeItem(\"openrouter-api-key\");\n\t\tstoredApiKey = \"\";\n\t\t// Reload the page to reinitialize chat without key\n\t\twindow.location.reload();\n\t}\n\n\tlet copyMessage = (content: string) => {\n\t\tnavigator.clipboard.writeText(content);\n\t\ttoast.success(\"Copied to clipboard!\");\n\t};\n\n\tlet startNewConversation = () => {\n\t\t// chat.reset();\n\t\tchat.messages = [];\n\t\tactiveCategory = \"\";\n\t\tinputValue = \"\";\n\t};\n\n\twatch(\n\t\t() => chat.status,\n\t\t() => {\n\t\t\tif (chat.status === \"error\") status = \"error\";\n\t\t\telse if (chat.status === \"streaming\") status = \"streaming\";\n\t\t\telse if (chat.status === \"ready\") status = \"idle\";\n\t\t\telse if (chat.status === \"submitted\") status = \"submitted\";\n\t\t}\n\t);\n</script>\n\n<svelte:head>\n\t<title>AI Chat Playground - Svelte AI Elements</title>\n\t<meta\n\t\tname=\"description\"\n\t\tcontent=\"Experience our AI Elements components in action with a real-time chat playground.\"\n\t/>\n</svelte:head>\n\n<Tooltip.Provider>\n\t<main class=\"bg-background relative flex h-[calc(100vh-5rem)] flex-col\">\n\t\t<!-- Main Content Area -->\n\t\t<div class=\"relative flex flex-1 overflow-hidden\">\n\t\t\t<!-- Chat Container (Left Side) -->\n\t\t\t<div class=\"relative flex-1 overflow-hidden\">\n\t\t\t\t{#if chat.messages.length === 0}\n\t\t\t\t\t<!-- Empty State with Centered Input -->\n\t\t\t\t\t<div class=\"relative h-full\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"absolute inset-x-0 top-1/2 mx-auto flex max-w-3xl -translate-y-1/2 flex-col items-center justify-center gap-4 px-3 pb-3 md:px-5 md:pb-5\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PromptInput\n\t\t\t\t\t\t\t\tclass=\"border-input bg-popover relative z-10 w-full rounded-3xl border p-0 pt-1 shadow-xs\"\n\t\t\t\t\t\t\t\tvalue={inputValue}\n\t\t\t\t\t\t\t\tonValueChange={handlePromptInputValueChange}\n\t\t\t\t\t\t\t\tonSubmit={handleSend}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PromptInputTextarea\n\t\t\t\t\t\t\t\t\tplaceholder=\"Ask anything...\"\n\t\t\t\t\t\t\t\t\tclass=\"min-h-[44px] pt-3 pl-4 text-base leading-[1.3] sm:text-base md:text-base\"\n\t\t\t\t\t\t\t\t\tonkeydown={handleKeyDown}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<PromptInputActions\n\t\t\t\t\t\t\t\t\tclass=\"mt-5 flex w-full items-end justify-end gap-2 px-3 pb-3\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tclass=\"h-9 w-9 rounded-full\"\n\t\t\t\t\t\t\t\t\t\tonclick={handleSend}\n\t\t\t\t\t\t\t\t\t\tdisabled={!inputValue.trim()}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ArrowUpIcon class=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</PromptInputActions>\n\t\t\t\t\t\t\t</PromptInput>\n\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"relative flex w-full flex-col items-center justify-center space-y-2\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"absolute top-0 left-0 h-[70px] w-full\">\n\t\t\t\t\t\t\t\t\t{#if showCategorySuggestions}\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex w-full flex-col space-y-1\">\n\t\t\t\t\t\t\t\t\t\t\t{#each activeCategoryData?.items ?? [] as suggestion}\n\t\t\t\t\t\t\t\t\t\t\t\t<PromptSuggestion\n\t\t\t\t\t\t\t\t\t\t\t\t\thighlight={activeCategoryData?.highlight ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonclick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleSuggestionClick(suggestion)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"transition-all hover:scale-[1.02] hover:shadow-sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{suggestion}\n\t\t\t\t\t\t\t\t\t\t\t\t</PromptSuggestion>\n\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclass=\"relative flex w-full flex-wrap items-stretch justify-start gap-2\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{#each suggestionGroups as group}\n\t\t\t\t\t\t\t\t\t\t\t\t<PromptSuggestion\n\t\t\t\t\t\t\t\t\t\t\t\t\tonclick={() => handleCategoryClick(group.label)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"capitalize transition-all hover:scale-105 hover:shadow-md\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{@const Icon = group.icon}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon class=\"mr-2 h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t{group.label}\n\t\t\t\t\t\t\t\t\t\t\t\t</PromptSuggestion>\n\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{:else}\n\t\t\t\t\t<!-- Chat Messages -->\n\t\t\t\t\t<div class=\"flex h-full flex-col\">\n\t\t\t\t\t\t<div class=\"flex-1 overflow-hidden px-4 py-4 sm:px-6\">\n\t\t\t\t\t\t\t<div class=\"mx-auto h-full max-w-3xl\">\n\t\t\t\t\t\t\t\t<Conversation class=\"h-full\">\n\t\t\t\t\t\t\t\t\t<ConversationContent>\n\t\t\t\t\t\t\t\t\t\t<div class=\"space-y-6 py-4\">\n\t\t\t\t\t\t\t\t\t\t\t{#each chat.messages as message}\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"group relative\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Message from={message.role}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MessageContent>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- Render reasoning parts first -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#each message.parts as part, partIndex}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#if part.type === \"reasoning\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Reasoning\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mb-4 w-full\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisStreaming={status ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"streaming\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpartIndex ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage.parts\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.length -\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage.id ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchat.messages.at(-1)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ReasoningTrigger />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ReasoningContent>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{@html marked(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpart.text\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ReasoningContent>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Reasoning>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/each}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- Then render text parts -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#each message.parts as part}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#if part.type === \"text\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#if message.role === \"assistant\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Response\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent={part.text}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tanimation={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"prose prose-sm dark:prose-invert max-w-none\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{part.text}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MessageContent>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Message>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- Actions for both user and assistant messages -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t{#if message.role === \"assistant\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Actions class=\"mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Action\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip=\"Copy\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonclick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcopyMessage(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage.parts\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map((p) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tp.type === \"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? p.text\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.join(\"\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Copy class=\"size-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Action>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Action\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip=\"Retry\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonclick={() => chat.regenerate()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<RefreshCcw class=\"size-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Action>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Action tooltip=\"Like\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ThumbsUp class=\"size-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Action>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Action tooltip=\"Dislike\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ThumbsDown class=\"size-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Action>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Actions>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Actions class=\"mt-2 flex justify-end\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Action\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip=\"Copy\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonclick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcopyMessage(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage.parts\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map((p) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tp.type === \"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? p.text\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.join(\"\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Copy class=\"size-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Action>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Actions>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</ConversationContent>\n\t\t\t\t\t\t\t\t\t<ConversationScrollButton />\n\t\t\t\t\t\t\t\t</Conversation>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Input Area (Bottom) -->\n\t\t\t\t\t\t<div class=\"border-border bg-background border-t px-4 py-4 sm:px-6\">\n\t\t\t\t\t\t\t<div class=\"mx-auto max-w-3xl\">\n\t\t\t\t\t\t\t\t<PromptInput\n\t\t\t\t\t\t\t\t\tclass=\"border-input bg-popover rounded-3xl border p-0 pt-1 shadow-xs\"\n\t\t\t\t\t\t\t\t\tvalue={inputValue}\n\t\t\t\t\t\t\t\t\tonValueChange={handlePromptInputValueChange}\n\t\t\t\t\t\t\t\t\tonSubmit={handleSend}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<PromptInputTextarea\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Type your message...\"\n\t\t\t\t\t\t\t\t\t\tclass=\"min-h-[44px] pt-3 pl-4 text-base\"\n\t\t\t\t\t\t\t\t\t\tonkeydown={handleKeyDown}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<PromptInputActions\n\t\t\t\t\t\t\t\t\t\tclass=\"mt-5 flex w-full items-end justify-end gap-2 px-3 pb-3\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"h-9 w-9 rounded-full\"\n\t\t\t\t\t\t\t\t\t\t\tonclick={handleSend}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!inputValue.trim()}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<ArrowUpIcon class=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</PromptInputActions>\n\t\t\t\t\t\t\t\t</PromptInput>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\n\t\t\t<!-- Right Sidebar (Info Card) -->\n\t\t\t<aside class=\"border-border hidden w-80 border-l lg:block\">\n\t\t\t\t<div class=\"h-full overflow-y-auto p-6\">\n\t\t\t\t\t<div class=\"bg-muted/30 sticky top-6 space-y-6 rounded-2xl border p-6\">\n\t\t\t\t\t\t<!-- Title Section -->\n\t\t\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t\t\t<h1 class=\"text-xl font-bold\">AI Chat Playground</h1>\n\t\t\t\t\t\t\t<p class=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\tExperience our AI Elements in action\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Components Section -->\n\t\t\t\t\t\t<!-- <div class=\"space-y-3\">\n\t\t\t\t\t\t<h4 class=\"text-sm font-semibold\">Components Used</h4>\n\t\t\t\t\t\t<div class=\"flex flex-wrap gap-1.5\">\n\t\t\t\t\t\t\t{#each components as component}\n\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\tvariant={component.type === \"ai-elements\"\n\t\t\t\t\t\t\t\t\t\t? \"default\"\n\t\t\t\t\t\t\t\t\t\t: \"secondary\"}\n\t\t\t\t\t\t\t\t\tclass=\"text-xs\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{component.name}\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div> -->\n\n\t\t\t\t\t\t<!-- API Key Section -->\n\t\t\t\t\t\t<div class=\"border-border space-y-3 border-t pt-4\">\n\t\t\t\t\t\t\t<div class=\"space-y-1.5\">\n\t\t\t\t\t\t\t\t<Label for=\"api-key\" class=\"text-sm font-semibold\">\n\t\t\t\t\t\t\t\t\tOpenRouter API Key (Optional)\n\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t\t<p class=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\tFor faster replies, use your own API key. We store it securely\n\t\t\t\t\t\t\t\t\tin your browser.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{#if storedApiKey}\n\t\t\t\t\t\t\t\t<div class=\"bg-muted/50 space-y-2 rounded-lg border p-3\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<KeyIcon class=\"text-muted-foreground size-4\" />\n\t\t\t\t\t\t\t\t\t\t<span class=\"text-xs font-medium\">API Key Saved</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant=\"destructive\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full\"\n\t\t\t\t\t\t\t\t\t\tonclick={clearApiKey}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Trash2Icon class=\"mr-2 size-3.5\" />\n\t\t\t\t\t\t\t\t\t\tClear API Key\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"api-key\"\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"sk-or-v1-...\"\n\t\t\t\t\t\t\t\t\t\tbind:value={apiKey}\n\t\t\t\t\t\t\t\t\t\tclass=\"text-xs\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full\"\n\t\t\t\t\t\t\t\t\t\tonclick={saveApiKey}\n\t\t\t\t\t\t\t\t\t\tdisabled={!apiKey.trim()}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<KeyIcon class=\"mr-2 size-3.5\" />\n\t\t\t\t\t\t\t\t\t\tSave API Key\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Tech Stack Section -->\n\t\t\t\t\t\t<div class=\"border-border space-y-2 border-t pt-4\">\n\t\t\t\t\t\t\t<h4 class=\"text-sm font-semibold\">Built With</h4>\n\t\t\t\t\t\t\t<div class=\"text-muted-foreground space-y-1 text-sm\">\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref=\"https://sdk.vercel.ai\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\tclass=\"hover:text-foreground block font-medium underline\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t→ Vercel AI SDK\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref=\"https://openrouter.ai\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\tclass=\"hover:text-foreground block font-medium underline\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t→ OpenRouter\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Action Buttons -->\n\t\t\t\t\t\t<div class=\"border-border space-y-2 border-t pt-4\">\n\t\t\t\t\t\t\t<!-- <DropdownMenu.Root>\n\t\t\t\t\t\t\t\t<DropdownMenu.Trigger>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full justify-start\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Terminal class=\"mr-2 size-4\" />\n\t\t\t\t\t\t\t\t\t\tCopy CLI\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</DropdownMenu.Trigger>\n\t\t\t\t\t\t\t\t<DropdownMenu.Content\n\t\t\t\t\t\t\t\t\talign=\"end\"\n\t\t\t\t\t\t\t\t\tsideOffset={10}\n\t\t\t\t\t\t\t\t\tclass=\"shadow-none\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"p-2\">\n\t\t\t\t\t\t\t\t\t\t<p class=\"text-muted-foreground mb-3 text-xs\">\n\t\t\t\t\t\t\t\t\t\t\tInstall this playground in your project:\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<AiInstallCommand\n\t\t\t\t\t\t\t\t\t\t\tcommand=\"execute\"\n\t\t\t\t\t\t\t\t\t\t\targs={[\n\t\t\t\t\t\t\t\t\t\t\t\t\"shadcn-svelte@latest\",\n\t\t\t\t\t\t\t\t\t\t\t\t\"add\",\n\t\t\t\t\t\t\t\t\t\t\t\t`${PUBLIC_WEBSITE_URL}/p/playground.json`,\n\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</DropdownMenu.Content>\n\t\t\t\t\t\t\t</DropdownMenu.Root> -->\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tclass=\"w-full justify-start\"\n\t\t\t\t\t\t\t\tonclick={() => (showCodeModal = true)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Code class=\"mr-2 size-4\" />\n\t\t\t\t\t\t\t\tView Code\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tclass=\"w-full justify-start\"\n\t\t\t\t\t\t\t\tonclick={startNewConversation}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PlusIcon class=\"mr-2 size-4\" />\n\t\t\t\t\t\t\t\tNew Chat\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</aside>\n\t\t</div>\n\t</main>\n</Tooltip.Provider>\n\n<!-- Code Viewer Modal -->\n<CodeViewerDialog bind:open={showCodeModal} />\n",
			"type": "registry:page",
			"target": "src/routes/playground/+page.svelte"
		},
		{
			"content": "import { streamText, type UIMessage, convertToModelMessages } from \"ai\";\nimport { createOpenRouter } from \"@openrouter/ai-sdk-provider\";\nimport { defaultModel } from \"$LIB$/config/ai-config\";\nimport type { RequestHandler } from \"./$types\";\nimport { OPENROUTER_API_KEY } from \"$env/static/private\";\n\nexport const POST: RequestHandler = async ({ request }) => {\n\tconst { messages, apiKey }: { messages: UIMessage[]; apiKey?: string } = await request.json();\n\n\t// Use custom API key if provided, otherwise use default\n\tconst provider = apiKey\n\t\t? createOpenRouter({ apiKey })\n\t\t: createOpenRouter({\n\t\t\t\tapiKey: OPENROUTER_API_KEY || \"\",\n\t\t\t});\n\n\tconst result = streamText({\n\t\tmodel: provider(defaultModel),\n\t\tmessages: convertToModelMessages(messages),\n\t});\n\n\treturn result.toUIMessageStreamResponse({\n\t\tsendReasoning: true,\n\t\tsendSources: true,\n\t});\n};\n",
			"type": "registry:file",
			"target": "src/routes/api/playground/+server.ts"
		},
		{
			"content": "import { createOpenRouter } from \"@openrouter/ai-sdk-provider\";\nimport { OPENROUTER_API_KEY } from \"$env/static/private\";\n\nexport const openrouter = createOpenRouter({\n\tapiKey: OPENROUTER_API_KEY,\n});\n\nexport const defaultModel = \"z-ai/glm-4.5-air:free\";\n",
			"type": "registry:file",
			"target": "$lib/config/ai-config.ts"
		},
		{
			"content": "<script lang=\"ts\">\n\timport * as Dialog from \"$COMPONENTS$/ui/dialog\";\n\timport * as Tabs from \"$COMPONENTS$/ui/tabs\";\n\timport * as Code from \"$COMPONENTS$/ai-elements/code\";\n\timport * as Tooltip from \"$COMPONENTS$/ui/tooltip\";\n\timport AiInstallCommand from \"$COMPONENTS$/docs/ai-install-command.svelte\";\n\timport SvelteLogo from \"$COMPONENTS$/icons/svelte.svelte\";\n\timport TypeScriptLogo from \"$COMPONENTS$/icons/typescript.svelte\";\n\timport { FileText, FileJson, Settings } from \"@lucide/svelte\";\n\n\ttype Props = {\n\t\topen: boolean;\n\t};\n\n\tlet { open = $bindable(false) }: Props = $props();\n\n\t// Code snippets for each file\n\tconst pageCode = `<script lang=\"ts\">\n\timport { DefaultChatTransport } from \"ai\";\n\timport { Chat } from \"@ai-sdk/svelte\";\n\timport { watch } from \"runed\";\n\timport { onMount } from \"svelte\";\n\timport {\n\t\tPlusIcon,\n\t\tCode,\n\t\tInfoIcon,\n\t\tCopy,\n\t\tRefreshCcw,\n\t\tThumbsUp,\n\t\tThumbsDown,\n\t\tBrain,\n\t\tArrowUp as ArrowUpIcon,\n\t\tKey as KeyIcon,\n\t\tTrash2 as Trash2Icon,\n\t\tFileText,\n\t\tPalette,\n\t\tSearch,\n\t} from \"@lucide/svelte\";\n\n\t// UI Components\n\timport { Button } from \"$COMPONENTS$/ui/button\";\n\timport { Badge } from \"$COMPONENTS$/ui/badge\";\n\timport { Input } from \"$COMPONENTS$/ui/input\";\n\timport { Label } from \"$COMPONENTS$/ui/label\";\n\timport * as HoverCard from \"$COMPONENTS$/ui/hover-card\";\n\n\t// AI Elements Components\n\timport { Message, MessageContent } from \"$COMPONENTS$/ai-elements/message\";\n\timport {\n\t\tConversation,\n\t\tConversationContent,\n\t\tConversationScrollButton,\n\t} from \"$COMPONENTS$/ai-elements/conversation\";\n\timport { Actions, Action } from \"$COMPONENTS$/ai-elements/action\";\n\timport { Response } from \"$COMPONENTS$/ai-elements/response\";\n\timport {\n\t\tReasoning,\n\t\tReasoningTrigger,\n\t\tReasoningContent,\n\t} from \"$COMPONENTS$/ai-elements/reasoning\";\n\n\t// Prompt Kit Components\n\timport {\n\t\tPromptInput,\n\t\tPromptInputActions,\n\t\tPromptInputTextarea,\n\t} from \"$COMPONENTS$/prompt-kit/prompt-input\";\n\timport { PromptSuggestion } from \"$COMPONENTS$/prompt-kit/prompt-suggestion\";\n\n\t// Local Components\n\timport CodeViewerDialog from \"./components/code-viewer-dialog.svelte\";\n\timport { toast } from \"svelte-sonner\";\n\timport { marked } from \"marked\";\n\n\t// State\n\tlet inputValue = $state(\"\");\n\tlet apiKey = $state(\"\");\n\tlet storedApiKey = $state(\"\");\n\tlet chat = $derived(\n\t\tnew Chat({\n\t\t\ttransport: new DefaultChatTransport({\n\t\t\t\tapi: \"/api/playground\",\n\t\t\t\theaders: storedApiKey\n\t\t\t\t\t? {\n\t\t\t\t\t\t\t\"X-API-Key\": storedApiKey,\n\t\t\t\t\t\t}\n\t\t\t\t\t: {},\n\t\t\t\tbody: storedApiKey\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tapiKey: storedApiKey,\n\t\t\t\t\t\t}\n\t\t\t\t\t: {},\n\t\t\t}),\n\t\t})\n\t);\n\tlet status = $state<\"idle\" | \"streaming\" | \"error\" | \"submitted\">(\"idle\");\n\tlet showCodeModal = $state(false);\n\tlet activeCategory = $state(\"\");\n\n\t// Load API key from localStorage on mount\n\tonMount(() => {\n\t\tconst saved = localStorage.getItem(\"openrouter-api-key\");\n\t\tif (saved) {\n\t\t\tstoredApiKey = saved;\n\t\t}\n\t});\n\n\t// Suggestion groups with icons\n\tconst suggestionGroups = [\n\t\t{\n\t\t\tlabel: \"Summary\",\n\t\t\thighlight: \"Summarize\",\n\t\t\ticon: FileText,\n\t\t\titems: [\n\t\t\t\t\"Summarize a document\",\n\t\t\t\t\"Summarize a video\",\n\t\t\t\t\"Summarize a podcast\",\n\t\t\t\t\"Summarize a book\",\n\t\t\t\t\"Summarize an article\",\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tlabel: \"Code\",\n\t\t\thighlight: \"Help me\",\n\t\t\ticon: Code,\n\t\t\titems: [\n\t\t\t\t\"Help me write React components\",\n\t\t\t\t\"Help me debug code\",\n\t\t\t\t\"Help me learn Python\",\n\t\t\t\t\"Help me learn SQL\",\n\t\t\t\t\"Help me optimize performance\",\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tlabel: \"Design\",\n\t\t\thighlight: \"Design\",\n\t\t\ticon: Palette,\n\t\t\titems: [\n\t\t\t\t\"Design a small logo\",\n\t\t\t\t\"Design a hero section\",\n\t\t\t\t\"Design a landing page\",\n\t\t\t\t\"Design a social media post\",\n\t\t\t\t\"Design a mobile app UI\",\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tlabel: \"Research\",\n\t\t\thighlight: \"Research\",\n\t\t\ticon: Search,\n\t\t\titems: [\n\t\t\t\t\"Research the best practices for SEO\",\n\t\t\t\t\"Research the best running shoes\",\n\t\t\t\t\"Research the best restaurants in Paris\",\n\t\t\t\t\"Research the best AI tools\",\n\t\t\t\t\"Research the latest tech trends\",\n\t\t\t],\n\t\t},\n\t];\n\n\t// Get active category data\n\tlet activeCategoryData = $derived(\n\t\tsuggestionGroups.find((group) => group.label === activeCategory)\n\t);\n\n\t// Determine which suggestions to show\n\tlet showCategorySuggestions = $derived(activeCategory !== \"\");\n\n\t// Component badges data\n\tconst components = [\n\t\t{ name: \"Prompt Input\", type: \"ai-elements\" },\n\t\t{ name: \"Prompt Suggestion\", type: \"prompt-kit\" },\n\t\t{ name: \"Messages\", type: \"ai-elements\" },\n\t\t{ name: \"Conversation\", type: \"ai-elements\" },\n\t\t{ name: \"Actions\", type: \"ai-elements\" },\n\t\t{ name: \"Response\", type: \"ai-elements\" },\n\t\t{ name: \"Reasoning\", type: \"ai-elements\" },\n\t];\n\n\t// Handlers\n\tfunction handleSend() {\n\t\tif (inputValue.trim() && status === \"idle\") {\n\t\t\tchat.sendMessage({ text: inputValue });\n\t\t\tinputValue = \"\";\n\t\t\tactiveCategory = \"\";\n\t\t}\n\t}\n\n\tfunction handleKeyDown(e: KeyboardEvent) {\n\t\tif (e.key === \"Enter\" && !e.shiftKey) {\n\t\t\te.preventDefault();\n\t\t\thandleSend();\n\t\t}\n\t}\n\n\tfunction handlePromptInputValueChange(value: string) {\n\t\tinputValue = value;\n\t\t// Clear active category when typing something different\n\t\tif (value.trim() === \"\") {\n\t\t\tactiveCategory = \"\";\n\t\t}\n\t}\n\n\tlet handleSuggestionClick = (suggestion: string) => {\n\t\tinputValue = suggestion;\n\t};\n\n\tlet handleCategoryClick = (category: string) => {\n\t\tactiveCategory = category;\n\t\tinputValue = \"\"; // Clear input when selecting a category\n\t};\n\n\tfunction saveApiKey() {\n\t\tif (apiKey.trim()) {\n\t\t\tlocalStorage.setItem(\"openrouter-api-key\", apiKey.trim());\n\t\t\tstoredApiKey = apiKey.trim();\n\t\t\tapiKey = \"\";\n\t\t\t// Reload the page to reinitialize chat with new key\n\t\t\twindow.location.reload();\n\t\t}\n\t}\n\n\tfunction clearApiKey() {\n\t\tlocalStorage.removeItem(\"openrouter-api-key\");\n\t\tstoredApiKey = \"\";\n\t\t// Reload the page to reinitialize chat without key\n\t\twindow.location.reload();\n\t}\n\n\tlet copyMessage = (content: string) => {\n\t\tnavigator.clipboard.writeText(content);\n\t\ttoast.success(\"Copied to clipboard!\");\n\t};\n\n\tlet startNewConversation = () => {\n\t\tchat.messages = [];\n\t\tactiveCategory = \"\";\n\t\tinputValue = \"\";\n\t};\n\n\twatch(\n\t\t() => chat.status,\n\t\t() => {\n\t\t\tif (chat.status === \"error\") status = \"error\";\n\t\t\telse if (chat.status === \"streaming\") status = \"streaming\";\n\t\t\telse if (chat.status === \"ready\") status = \"idle\";\n\t\t\telse if (chat.status === \"submitted\") status = \"submitted\";\n\t\t}\n\t);\n<\\/script>\n\n<main class=\"bg-background relative flex h-[calc(100vh-5rem)] flex-col\">\n{#if chat.messages.length === 0}\n\t<!-- Empty State with Centered Input -->\n\t<div class=\"relative h-full\">\n\t\t<div class=\"absolute inset-x-0 top-1/2 mx-auto flex max-w-3xl -translate-y-1/2 flex-col gap-4 px-3 pb-3\">\n\t\t\t<PromptInput\n\t\t\t\tclass=\"border-input bg-popover relative z-10 w-full rounded-3xl border p-0 pt-1 shadow-xs\"\n\t\t\t\tvalue={inputValue}\n\t\t\t\tonValueChange={handlePromptInputValueChange}\n\t\t\t\tonSubmit={handleSend}\n\t\t\t>\n\t\t\t\t<PromptInputTextarea\n\t\t\t\t\tplaceholder=\"Ask anything...\"\n\t\t\t\t\tclass=\"min-h-[44px] pt-3 pl-4 text-base\"\n\t\t\t\t\tonkeydown={handleKeyDown}\n\t\t\t\t/>\n\t\t\t\t<PromptInputActions class=\"mt-5 flex w-full items-end justify-end gap-2 px-3 pb-3\">\n\t\t\t\t\t<Button size=\"sm\" class=\"h-9 w-9 rounded-full\" onclick={handleSend} disabled={!inputValue.trim()}>\n\t\t\t\t\t\t<ArrowUpIcon class=\"h-4 w-4\" />\n\t\t\t\t\t</Button>\n\t\t\t\t</PromptInputActions>\n\t\t\t</PromptInput>\n\n\t\t\t<div class=\"relative flex w-full flex-col items-center justify-center space-y-2\">\n\t\t\t\t<div class=\"absolute top-0 left-0 h-[70px] w-full\">\n\t\t\t\t\t{#if showCategorySuggestions}\n\t\t\t\t\t\t<div class=\"flex w-full flex-col space-y-1\">\n\t\t\t\t\t\t\t{#each activeCategoryData?.items ?? [] as suggestion}\n\t\t\t\t\t\t\t\t<PromptSuggestion\n\t\t\t\t\t\t\t\t\thighlight={activeCategoryData?.highlight ?? \"\"}\n\t\t\t\t\t\t\t\t\tonclick={() => handleSuggestionClick(suggestion)}\n\t\t\t\t\t\t\t\t\tclass=\"transition-all hover:scale-[1.02] hover:shadow-sm\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{suggestion}\n\t\t\t\t\t\t\t\t</PromptSuggestion>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<div class=\"relative flex w-full flex-wrap items-stretch justify-start gap-2\">\n\t\t\t\t\t\t\t{#each suggestionGroups as group}\n\t\t\t\t\t\t\t\t<PromptSuggestion onclick={() => handleCategoryClick(group.label)} class=\"capitalize transition-all hover:scale-105 hover:shadow-md\">\n\t\t\t\t\t\t\t\t\t{@const Icon = group.icon}\n\t\t\t\t\t\t\t\t\t<Icon class=\"mr-2 h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t{group.label}\n\t\t\t\t\t\t\t\t</PromptSuggestion>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{:else}\n\t<!-- Chat Messages -->\n\t<Conversation>\n\t\t<ConversationContent>\n\t\t\t<div class=\"space-y-6 py-4\">\n\t\t\t\t{#each chat.messages as message}\n\t\t\t\t\t<div class=\"group relative\">\n\t\t\t\t\t\t<Message from={message.role}>\n\t\t\t\t\t\t\t<MessageContent>\n\t\t\t\t\t\t\t\t<!-- Render reasoning parts first -->\n\t\t\t\t\t\t\t\t{#each message.parts as part, partIndex}\n\t\t\t\t\t\t\t\t\t{#if part.type === \"reasoning\"}\n\t\t\t\t\t\t\t\t\t\t<Reasoning\n\t\t\t\t\t\t\t\t\t\t\tclass=\"mb-4 w-full\"\n\t\t\t\t\t\t\t\t\t\t\tisStreaming={status === \"streaming\" &&\n\t\t\t\t\t\t\t\t\t\t\t\tpartIndex === message.parts.length - 1 &&\n\t\t\t\t\t\t\t\t\t\t\t\tmessage.id === chat.messages.at(-1)?.id}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<ReasoningTrigger />\n\t\t\t\t\t\t\t\t\t\t\t<ReasoningContent>{@html marked(part.text)}</ReasoningContent>\n\t\t\t\t\t\t\t\t\t\t</Reasoning>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t{/each}\n\n\t\t\t\t\t\t\t\t<!-- Then render text parts -->\n\t\t\t\t\t\t\t\t{#each message.parts as part}\n\t\t\t\t\t\t\t\t\t{#if part.type === \"text\"}\n\t\t\t\t\t\t\t\t\t\t{#if message.role === \"assistant\"}\n\t\t\t\t\t\t\t\t\t\t\t<Response content={part.text} animation={{ enabled: true }} />\n\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"prose prose-sm dark:prose-invert max-w-none\">\n\t\t\t\t\t\t\t\t\t\t\t\t{part.text}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t</MessageContent>\n\t\t\t\t\t\t</Message>\n\n\t\t\t\t\t\t<!-- Actions for both user and assistant messages -->\n\t\t\t\t\t\t{#if message.role === \"assistant\"}\n\t\t\t\t\t\t\t<Actions class=\"mt-2\">\n\t\t\t\t\t\t\t\t<Action\n\t\t\t\t\t\t\t\t\ttooltip=\"Copy\"\n\t\t\t\t\t\t\t\t\tonclick={() =>\n\t\t\t\t\t\t\t\t\t\tcopyMessage(\n\t\t\t\t\t\t\t\t\t\t\tmessage.parts\n\t\t\t\t\t\t\t\t\t\t\t\t.map((p) => (p.type === \"text\" ? p.text : \"\"))\n\t\t\t\t\t\t\t\t\t\t\t\t.join(\"\")\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Copy class=\"size-4\" />\n\t\t\t\t\t\t\t\t</Action>\n\t\t\t\t\t\t\t\t<Action tooltip=\"Retry\" onclick={() => chat.regenerate()}>\n\t\t\t\t\t\t\t\t\t<RefreshCcw class=\"size-4\" />\n\t\t\t\t\t\t\t\t</Action>\n\t\t\t\t\t\t\t\t<Action tooltip=\"Like\">\n\t\t\t\t\t\t\t\t\t<ThumbsUp class=\"size-4\" />\n\t\t\t\t\t\t\t\t</Action>\n\t\t\t\t\t\t\t\t<Action tooltip=\"Dislike\">\n\t\t\t\t\t\t\t\t\t<ThumbsDown class=\"size-4\" />\n\t\t\t\t\t\t\t\t</Action>\n\t\t\t\t\t\t\t</Actions>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<Actions class=\"mt-2 flex justify-end\">\n\t\t\t\t\t\t\t\t<Action\n\t\t\t\t\t\t\t\t\ttooltip=\"Copy\"\n\t\t\t\t\t\t\t\t\tonclick={() =>\n\t\t\t\t\t\t\t\t\t\tcopyMessage(\n\t\t\t\t\t\t\t\t\t\t\tmessage.parts\n\t\t\t\t\t\t\t\t\t\t\t\t.map((p) => (p.type === \"text\" ? p.text : \"\"))\n\t\t\t\t\t\t\t\t\t\t\t\t.join(\"\")\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Copy class=\"size-4\" />\n\t\t\t\t\t\t\t\t</Action>\n\t\t\t\t\t\t\t</Actions>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t</div>\n\t\t</ConversationContent>\n\t\t<ConversationScrollButton />\n\t</Conversation>\n\n\t<!-- Input at bottom -->\n\t<div class=\"border-t px-4 py-4\">\n\t\t<div class=\"mx-auto max-w-3xl\">\n\t\t\t<PromptInput\n\t\t\t\tclass=\"rounded-3xl border p-0 pt-1 shadow-xs\"\n\t\t\t\tvalue={inputValue}\n\t\t\t\tonValueChange={handlePromptInputValueChange}\n\t\t\t\tonSubmit={handleSend}\n\t\t\t>\n\t\t\t\t<PromptInputTextarea\n\t\t\t\t\tplaceholder=\"Type your message...\"\n\t\t\t\t\tclass=\"min-h-[44px] pt-3 pl-4 text-base\"\n\t\t\t\t\tonkeydown={handleKeyDown}\n\t\t\t\t/>\n\t\t\t\t<PromptInputActions class=\"mt-5 flex w-full items-end justify-end gap-2 px-3 pb-3\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tclass=\"h-9 w-9 rounded-full\"\n\t\t\t\t\t\tonclick={handleSend}\n\t\t\t\t\t\tdisabled={!inputValue.trim()}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ArrowUpIcon class=\"h-4 w-4\" />\n\t\t\t\t\t</Button>\n\t\t\t\t</PromptInputActions>\n\t\t\t</PromptInput>\n\t\t</div>\n\t</div>\n{/if}\n</main>`;\n\n\tconst serverCode = `import { streamText, type UIMessage, convertToModelMessages } from \"ai\";\nimport { createOpenRouter } from \"@openrouter/ai-sdk-provider\";\nimport { defaultModel } from \"$LIB$/config/ai-config\";\nimport type { RequestHandler } from \"./$types\";\nimport { OPENROUTER_API_KEY } from \"$env/static/private\";\n\nexport const POST: RequestHandler = async ({ request }) => {\n\tconst { messages, apiKey }: { messages: UIMessage[]; apiKey?: string } = await request.json();\n\n\t// Use custom API key if provided, otherwise use default\n\tconst provider = apiKey\n\t\t? createOpenRouter({ apiKey })\n\t\t: createOpenRouter({\n\t\t\t\tapiKey: OPENROUTER_API_KEY || \"\",\n\t\t\t});\n\n\tconst result = streamText({\n\t\tmodel: provider(defaultModel),\n\t\tmessages: convertToModelMessages(messages),\n\t});\n\n\treturn result.toUIMessageStreamResponse({\n\t\tsendReasoning: true,\n\t\tsendSources: true,\n\t});\n};`;\n\n\tconst envCode = `# OpenRouter API Key\n# Get your free API key at: https://openrouter.ai/keys\n#\n# NOTE: We're using a FREE AI model (z-ai/glm-4.5-air:free) in this playground\n# so you won't be charged for API usage. Perfect for testing and development!\nOPENROUTER_API_KEY=your_openrouter_api_key_here`;\n\n\tconst aiConfigCode = `// AI Configuration\n// This file manages your AI provider settings and model selection\nimport { createOpenRouter } from \"@openrouter/ai-sdk-provider\";\nimport { OPENROUTER_API_KEY } from \"$env/static/private\";\n\nexport const openrouter = createOpenRouter({\n\tapiKey: OPENROUTER_API_KEY,\n});\n\n// Using a FREE AI model - no charges will be incurred!\n// The z-ai/glm-4.5-air:free model is completely free to use\n// Perfect for development, testing, and learning\nexport const defaultModel = \"z-ai/glm-4.5-air:free\";`;\n\n\tconst packageJsonCode = `{\n  \"dependencies\": {\n    \"@ai-sdk/svelte\": \"^1.0.0\",\n    \"@openrouter/ai-sdk-provider\": \"^0.0.5\",\n    \"ai\": \"^4.0.0\",\n    \"runed\": \"^0.15.0\"\n  }\n}`;\n</script>\n\n<Dialog.Root bind:open>\n\t<Dialog.Content class=\"flex max-h-[90vh] flex-col overflow-hidden sm:min-w-[820px]\">\n\t\t<Dialog.Header>\n\t\t\t<Dialog.Title>Playground Code</Dialog.Title>\n\t\t\t<Dialog.Description>\n\t\t\t\tCopy and paste this code to build your own AI chat playground\n\t\t\t</Dialog.Description>\n\t\t</Dialog.Header>\n\n\t\t<Tooltip.Provider>\n\t\t\t<Tabs.Root value=\"page\" class=\"flex flex-1 flex-col overflow-hidden\">\n\t\t\t\t<Tabs.List class=\"grid w-full grid-cols-5\">\n\t\t\t\t\t<Tabs.Trigger value=\"page\" class=\"gap-2\">\n\t\t\t\t\t\t<SvelteLogo class=\"size-4\" />\n\t\t\t\t\t\t+page.svelte\n\t\t\t\t\t</Tabs.Trigger>\n\t\t\t\t\t<Tabs.Trigger value=\"server\" class=\"gap-2\">\n\t\t\t\t\t\t<TypeScriptLogo class=\"size-4\" />\n\t\t\t\t\t\t+server.ts\n\t\t\t\t\t</Tabs.Trigger>\n\t\t\t\t\t<Tabs.Trigger value=\"ai-config\" class=\"gap-2\">\n\t\t\t\t\t\t<Settings class=\"size-4\" />\n\t\t\t\t\t\tai-config.ts\n\t\t\t\t\t</Tabs.Trigger>\n\t\t\t\t\t<Tabs.Trigger value=\"env\" class=\"gap-2\">\n\t\t\t\t\t\t<FileText class=\"size-4\" />\n\t\t\t\t\t\t.env.example\n\t\t\t\t\t</Tabs.Trigger>\n\t\t\t\t\t<Tabs.Trigger value=\"package\" class=\"gap-2\">\n\t\t\t\t\t\t<FileJson class=\"size-4\" />\n\t\t\t\t\t\tpackage.json\n\t\t\t\t\t</Tabs.Trigger>\n\t\t\t\t</Tabs.List>\n\n\t\t\t\t<div class=\"mt-4 flex-1 overflow-auto\">\n\t\t\t\t\t<Tabs.Content value=\"page\" class=\"mt-0\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Code.Overflow class=\"w-full data-[collapsed=true]:max-h-[380px]\">\n\t\t\t\t\t\t\t\t<Code.Root lang=\"svelte\" code={pageCode}>\n\t\t\t\t\t\t\t\t\t<Code.CopyButton class=\"z-30\" />\n\t\t\t\t\t\t\t\t</Code.Root>\n\t\t\t\t\t\t\t</Code.Overflow>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Tabs.Content>\n\n\t\t\t\t\t<Tabs.Content value=\"server\" class=\"mt-0\">\n\t\t\t\t\t\t<Code.Root lang=\"typescript\" code={serverCode}>\n\t\t\t\t\t\t\t<Code.CopyButton />\n\t\t\t\t\t\t</Code.Root>\n\t\t\t\t\t</Tabs.Content>\n\n\t\t\t\t\t<Tabs.Content value=\"ai-config\" class=\"mt-0\">\n\t\t\t\t\t\t<Code.Root lang=\"typescript\" code={aiConfigCode}>\n\t\t\t\t\t\t\t<Code.CopyButton />\n\t\t\t\t\t\t</Code.Root>\n\t\t\t\t\t</Tabs.Content>\n\n\t\t\t\t\t<Tabs.Content value=\"env\" class=\"mt-0\">\n\t\t\t\t\t\t<Code.Root lang=\"bash\" code={envCode}>\n\t\t\t\t\t\t\t<Code.CopyButton />\n\t\t\t\t\t\t</Code.Root>\n\t\t\t\t\t</Tabs.Content>\n\n\t\t\t\t\t<Tabs.Content value=\"package\" class=\"mt-0 space-y-4\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h4 class=\"mb-3 text-sm font-semibold\">Install Dependencies</h4>\n\t\t\t\t\t\t\t<AiInstallCommand\n\t\t\t\t\t\t\t\tcommand=\"add\"\n\t\t\t\t\t\t\t\targs={[\n\t\t\t\t\t\t\t\t\t\"ai\",\n\t\t\t\t\t\t\t\t\t\"@ai-sdk/svelte\",\n\t\t\t\t\t\t\t\t\t\"@openrouter/ai-sdk-provider\",\n\t\t\t\t\t\t\t\t\t\"runed\",\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h4 class=\"mb-3 text-sm font-semibold\">Package Configuration</h4>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Code.Root lang=\"json\" code={packageJsonCode}>\n\t\t\t\t\t\t\t\t\t<Code.CopyButton />\n\t\t\t\t\t\t\t\t</Code.Root>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Tabs.Content>\n\t\t\t\t</div>\n\t\t\t</Tabs.Root>\n\t\t</Tooltip.Provider>\n\t</Dialog.Content>\n</Dialog.Root>\n",
			"type": "registry:component",
			"target": "src/routes/playground/components/code-viewer-dialog.svelte"
		},
		{
			"content": "PUBLIC_WEBSITE_URL=\"http://localhost:5173\"\n# On prod it would be something like: https://svelte-ai-elements.vercel.app/\n# Make sure to set this in your deployment environment as well!\n\n# OpenRouter API Key\n# Get your free API key at: https://openrouter.ai/keys\n#\n# NOTE: We're using a FREE AI model (z-ai/glm-4.5-air:free) in the playground\n# so you won't be charged for API usage. Perfect for testing and development!\nOPENROUTER_API_KEY=your_openrouter_api_key_here",
			"type": "registry:file",
			"target": ".env.example"
		}
	]
}