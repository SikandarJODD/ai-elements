{
	"$schema": "https://shadcn-svelte.com/schema/registry-item.json",
	"name": "new-message",
	"title": "New Message",
	"type": "registry:block",
	"author": "SikandarJODD",
	"description": "Enhanced message component with branching, attachments, actions, and markdown rendering for AI chat interfaces.",
	"dependencies": [
		"svelte-streamdown",
		"runed",
		"tailwind-variants",
		"mode-watcher",
		"@lucide/svelte"
	],
	"devDependencies": [
		"@lucide/svelte@^0.544.0"
	],
	"registryDependencies": [
		"button",
		"button-group",
		"tooltip"
	],
	"meta": {
		"author": "SikandarJODD",
		"version": "1.0.0",
		"tags": [
			"message",
			"branching",
			"attachments",
			"markdown",
			"actions",
			"chat"
		],
		"category": "AI Chat",
		"documentation": "https://svelte-ai-elements.vercel.app/components/new-message",
		"repository": "https://github.com/SikandarJODD/ai-elements",
		"complexity": "intermediate",
		"updated": "2025-12-03",
		"featured": true
	},
	"files": [
		{
			"content": "<script lang=\"ts\">\n\timport { cn } from \"$UTILS$\";\n\timport type { Snippet } from \"svelte\";\n\timport type { HTMLAttributes } from \"svelte/elements\";\n\timport type { MessageRole } from \"./message-context.svelte.js\";\n\n\tinterface Props extends HTMLAttributes<HTMLDivElement> {\n\t\tfrom: MessageRole;\n\t\tclass?: string;\n\t\tchildren: Snippet;\n\t}\n\n\tlet { from, class: className, children, ...restProps }: Props = $props();\n</script>\n\n<div\n\tclass={cn(\n\t\t\"group flex w-full max-w-[80%] flex-col gap-2\",\n\t\tfrom === \"user\" ? \"is-user ml-auto justify-end\" : \"is-assistant\",\n\t\tclassName\n\t)}\n\tdata-role={from}\n\t{...restProps}\n>\n\t{@render children()}\n</div>\n",
			"type": "registry:component",
			"target": "ai-elements/new-message/Message.svelte"
		},
		{
			"content": "<script lang=\"ts\">\n\timport { cn } from \"$UTILS$\";\n\timport type { Snippet } from \"svelte\";\n\timport type { HTMLAttributes } from \"svelte/elements\";\n\n\tinterface Props extends HTMLAttributes<HTMLDivElement> {\n\t\tclass?: string;\n\t\tchildren: Snippet;\n\t}\n\n\tlet { class: className, children, ...restProps }: Props = $props();\n</script>\n\n<div\n\tclass={cn(\n\t\t\"is-user:dark flex w-fit flex-col gap-2 overflow-hidden text-sm\",\n\t\t\"group-[.is-user]:bg-secondary group-[.is-user]:text-foreground group-[.is-user]:ml-auto group-[.is-user]:rounded-lg group-[.is-user]:px-4 group-[.is-user]:py-3\",\n\t\t\"group-[.is-assistant]:text-foreground\",\n\t\tclassName\n\t)}\n\t{...restProps}\n>\n\t{@render children()}\n</div>\n",
			"type": "registry:component",
			"target": "ai-elements/new-message/MessageContent.svelte"
		},
		{
			"content": "<script lang=\"ts\">\n\timport { cn } from \"$UTILS$\";\n\timport { Streamdown, type StreamdownProps } from \"svelte-streamdown\";\n\timport { mode } from \"mode-watcher\";\n\timport type { HTMLAttributes } from \"svelte/elements\";\n\n\ttype Props = {\n\t\tcontent: string;\n\t\tclass?: string;\n\t} & Omit<StreamdownProps, \"content\" | \"class\"> &\n\t\tOmit<HTMLAttributes<HTMLDivElement>, \"content\">;\n\n\tlet { content, class: className, ...restProps }: Props = $props();\n</script>\n\n<div class={cn(\"size-full [&>*:first-child]:mt-0 [&>*:last-child]:mb-0\", className)}>\n\t<Streamdown\n\t\t{content}\n\t\tshikiTheme={mode.current === \"dark\" ? \"github-dark-default\" : \"github-light-default\"}\n\t\tshikiPreloadThemes={[\"github-dark-default\", \"github-light-default\"]}\n\t\tbaseTheme=\"shadcn\"\n\t\t{...restProps}\n\t/>\n</div>\n",
			"type": "registry:component",
			"target": "ai-elements/new-message/MessageResponse.svelte"
		},
		{
			"content": "<script lang=\"ts\">\n\timport { cn } from \"$UTILS$\";\n\timport type { Snippet } from \"svelte\";\n\timport type { HTMLAttributes } from \"svelte/elements\";\n\n\tinterface Props extends HTMLAttributes<HTMLDivElement> {\n\t\tclass?: string;\n\t\tchildren?: Snippet;\n\t}\n\n\tlet { class: className, children, ...restProps }: Props = $props();\n</script>\n\n<div class={cn(\"flex items-center gap-1\", className)} {...restProps}>\n\t{@render children?.()}\n</div>\n",
			"type": "registry:component",
			"target": "ai-elements/new-message/MessageActions.svelte"
		},
		{
			"content": "<script lang=\"ts\">\n\timport { cn } from \"$UTILS$\";\n\timport { Button, type ButtonProps } from \"$COMPONENTS$/ui/button/index.js\";\n\timport * as Tooltip from \"$COMPONENTS$/ui/tooltip/index.js\";\n\timport type { Snippet } from \"svelte\";\n\n\tinterface Props extends Omit<ButtonProps, \"children\"> {\n\t\ttooltip?: string;\n\t\tlabel?: string;\n\t\tclass?: string;\n\t\tchildren?: Snippet;\n\t}\n\n\tlet {\n\t\ttooltip,\n\t\tlabel,\n\t\tvariant = \"ghost\",\n\t\tsize = \"icon\",\n\t\tclass: className,\n\t\tchildren,\n\t\t...restProps\n\t}: Props = $props();\n</script>\n\n{#if tooltip}\n\t<Tooltip.Provider>\n\t\t<Tooltip.Root>\n\t\t\t<Tooltip.Trigger>\n\t\t\t\t{#snippet child({ props })}\n\t\t\t\t\t<Button\n\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t{size}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t{variant}\n\t\t\t\t\t\tclass={cn(\"size-7\", className)}\n\t\t\t\t\t\t{...restProps}\n\t\t\t\t\t>\n\t\t\t\t\t\t{@render children?.()}\n\t\t\t\t\t\t<span class=\"sr-only\">{label || tooltip}</span>\n\t\t\t\t\t</Button>\n\t\t\t\t{/snippet}\n\t\t\t</Tooltip.Trigger>\n\t\t\t<Tooltip.Content>\n\t\t\t\t<p>{tooltip}</p>\n\t\t\t</Tooltip.Content>\n\t\t</Tooltip.Root>\n\t</Tooltip.Provider>\n{:else}\n\t<Button {size} type=\"button\" {variant} class={cn(\"size-7\", className)} {...restProps}>\n\t\t{@render children?.()}\n\t\t{#if label}\n\t\t\t<span class=\"sr-only\">{label}</span>\n\t\t{/if}\n\t</Button>\n{/if}\n",
			"type": "registry:component",
			"target": "ai-elements/new-message/MessageAction.svelte"
		},
		{
			"content": "<script lang=\"ts\">\n\timport { cn } from \"$UTILS$\";\n\timport type { Snippet } from \"svelte\";\n\timport type { HTMLAttributes } from \"svelte/elements\";\n\n\tinterface Props extends HTMLAttributes<HTMLDivElement> {\n\t\tclass?: string;\n\t\tchildren?: Snippet;\n\t}\n\n\tlet { class: className, children, ...restProps }: Props = $props();\n</script>\n\n<div class={cn(\"mt-4 flex w-full items-center justify-between gap-4\", className)} {...restProps}>\n\t{@render children?.()}\n</div>\n",
			"type": "registry:component",
			"target": "ai-elements/new-message/MessageToolbar.svelte"
		},
		{
			"content": "<script lang=\"ts\">\n\timport { cn } from \"$UTILS$\";\n\timport { MessageBranchClass, setMessageBranchContext } from \"./message-context.svelte.js\";\n\timport type { Snippet } from \"svelte\";\n\timport type { HTMLAttributes } from \"svelte/elements\";\n\n\tinterface Props extends HTMLAttributes<HTMLDivElement> {\n\t\tdefaultBranch?: number;\n\t\tonBranchChange?: (branchIndex: number) => void;\n\t\tclass?: string;\n\t\tchildren: Snippet;\n\t}\n\n\tlet {\n\t\tdefaultBranch = 0,\n\t\tonBranchChange,\n\t\tclass: className,\n\t\tchildren,\n\t\t...restProps\n\t}: Props = $props();\n\n\t// Create the branch context class\n\tconst branchContext = new MessageBranchClass(defaultBranch);\n\n\t// Set up the context\n\tsetMessageBranchContext(branchContext);\n\n\t// Watch for branch changes and call the callback\n\t// Using $derived to track changes without $effect\n\tlet previousBranch = $state(defaultBranch);\n\n\t$effect.pre(() => {\n\t\tif (branchContext.currentBranch !== previousBranch) {\n\t\t\tpreviousBranch = branchContext.currentBranch;\n\t\t\tonBranchChange?.(branchContext.currentBranch);\n\t\t}\n\t});\n</script>\n\n<div class={cn(\"grid w-full gap-2 [&>div]:pb-0\", className)} {...restProps}>\n\t{@render children()}\n</div>\n",
			"type": "registry:component",
			"target": "ai-elements/new-message/MessageBranch.svelte"
		},
		{
			"content": "<script lang=\"ts\">\n\timport { cn } from \"$UTILS$\";\n\timport { getMessageBranchContext } from \"./message-context.svelte.js\";\n\timport type { Snippet } from \"svelte\";\n\timport { watch } from \"runed\";\n\n\ttype ContentItem = { id: string; content: string };\n\n\tinterface Props {\n\t\t/**\n\t\t * Either provide snippets array OR content array with renderItem\n\t\t */\n\t\tchildren?: Snippet[];\n\t\t/**\n\t\t * Array of content items to render\n\t\t */\n\t\tcontent?: ContentItem[];\n\t\t/**\n\t\t * Render function for content items\n\t\t */\n\t\trenderItem?: Snippet<[ContentItem, number]>;\n\t\tclass?: string;\n\t\t[key: string]: unknown;\n\t}\n\n\tlet { children, content, renderItem, class: className, ...restProps }: Props = $props();\n\n\tconst branchContext = getMessageBranchContext();\n\n\t// Compute items count based on whether we have snippets or content\n\tlet itemsCount = $derived(children?.length ?? content?.length ?? 0);\n\n\t// Update branches count when items change\n\twatch(\n\t\t() => itemsCount,\n\t\t(newLength) => {\n\t\t\tif (branchContext.totalBranches !== newLength) {\n\t\t\t\t// Store the count, not the snippets themselves\n\t\t\t\tbranchContext.setBranchCount(newLength);\n\t\t\t}\n\t\t}\n\t);\n</script>\n\n{#if children}\n\t<!-- Render snippets mode -->\n\t{#each children as branch, index (index)}\n\t\t<div\n\t\t\tclass={cn(\n\t\t\t\t\"grid gap-2 overflow-hidden [&>div]:pb-0\",\n\t\t\t\tindex === branchContext.currentBranch ? \"block\" : \"hidden\",\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...restProps}\n\t\t>\n\t\t\t{@render branch()}\n\t\t</div>\n\t{/each}\n{:else if content && renderItem}\n\t<!-- Render content with renderItem mode -->\n\t{#each content as item, index (item.id)}\n\t\t<div\n\t\t\tclass={cn(\n\t\t\t\t\"grid gap-2 overflow-hidden [&>div]:pb-0\",\n\t\t\t\tindex === branchContext.currentBranch ? \"block\" : \"hidden\",\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...restProps}\n\t\t>\n\t\t\t{@render renderItem(item, index)}\n\t\t</div>\n\t{/each}\n{/if}\n",
			"type": "registry:component",
			"target": "ai-elements/new-message/MessageBranchContent.svelte"
		},
		{
			"content": "<script lang=\"ts\">\n\timport { cn } from \"$UTILS$\";\n\timport { getMessageBranchContext, type MessageRole } from \"./message-context.svelte.js\";\n\timport * as ButtonGroup from \"$COMPONENTS$/ui/button-group/index.js\";\n\timport type { Snippet } from \"svelte\";\n\timport type { HTMLAttributes } from \"svelte/elements\";\n\n\tinterface Props extends HTMLAttributes<HTMLDivElement> {\n\t\tfrom: MessageRole;\n\t\tclass?: string;\n\t\tchildren?: Snippet;\n\t}\n\n\tlet { from, class: className, children, ...restProps }: Props = $props();\n\n\tconst branchContext = getMessageBranchContext();\n\n\t// Don't render if there's only one branch\n\tlet shouldRender = $derived(branchContext.totalBranches > 1);\n</script>\n\n{#if shouldRender}\n\t<ButtonGroup.Root\n\t\tclass={cn(\n\t\t\t\"[&>*:not(:first-child)]:rounded-l-md [&>*:not(:last-child)]:rounded-r-md\",\n\t\t\tclassName\n\t\t)}\n\t\torientation=\"horizontal\"\n\t\t{...restProps}\n\t>\n\t\t{@render children?.()}\n\t</ButtonGroup.Root>\n{/if}\n",
			"type": "registry:component",
			"target": "ai-elements/new-message/MessageBranchSelector.svelte"
		},
		{
			"content": "<script lang=\"ts\">\n\timport { cn } from \"$UTILS$\";\n\timport { getMessageBranchContext } from \"./message-context.svelte.js\";\n\timport { Button, type ButtonProps } from \"$COMPONENTS$/ui/button/index.js\";\n\timport ChevronLeft from \"@lucide/svelte/icons/chevron-left\";\n\timport type { Snippet } from \"svelte\";\n\n\tinterface Props extends Omit<ButtonProps, \"children\"> {\n\t\tclass?: string;\n\t\tchildren?: Snippet;\n\t}\n\n\tlet { class: className, children, ...restProps }: Props = $props();\n\n\tconst branchContext = getMessageBranchContext();\n\n\tlet isDisabled = $derived(branchContext.totalBranches <= 1);\n</script>\n\n<Button\n\taria-label=\"Previous branch\"\n\tdisabled={isDisabled}\n\tonclick={() => branchContext.goToPrevious()}\n\tsize=\"icon\"\n\ttype=\"button\"\n\tvariant=\"ghost\"\n\tclass={cn(\"size-7\", className)}\n\t{...restProps}\n>\n\t{#if children}\n\t\t{@render children()}\n\t{:else}\n\t\t<ChevronLeft class=\"size-3.5\" />\n\t{/if}\n</Button>\n",
			"type": "registry:component",
			"target": "ai-elements/new-message/MessageBranchPrevious.svelte"
		},
		{
			"content": "<script lang=\"ts\">\n\timport { cn } from \"$UTILS$\";\n\timport { getMessageBranchContext } from \"./message-context.svelte.js\";\n\timport { Button, type ButtonProps } from \"$COMPONENTS$/ui/button/index.js\";\n\timport ChevronRight from \"@lucide/svelte/icons/chevron-right\";\n\timport type { Snippet } from \"svelte\";\n\n\tinterface Props extends Omit<ButtonProps, \"children\"> {\n\t\tclass?: string;\n\t\tchildren?: Snippet;\n\t}\n\n\tlet { class: className, children, ...restProps }: Props = $props();\n\n\tconst branchContext = getMessageBranchContext();\n\n\tlet isDisabled = $derived(branchContext.totalBranches <= 1);\n</script>\n\n<Button\n\taria-label=\"Next branch\"\n\tdisabled={isDisabled}\n\tonclick={() => branchContext.goToNext()}\n\tsize=\"icon\"\n\ttype=\"button\"\n\tvariant=\"ghost\"\n\tclass={cn(\"size-7\", className)}\n\t{...restProps}\n>\n\t{#if children}\n\t\t{@render children()}\n\t{:else}\n\t\t<ChevronRight class=\"size-3.5\" />\n\t{/if}\n</Button>\n",
			"type": "registry:component",
			"target": "ai-elements/new-message/MessageBranchNext.svelte"
		},
		{
			"content": "<script lang=\"ts\">\n\timport { cn } from \"$UTILS$\";\n\timport { getMessageBranchContext } from \"./message-context.svelte.js\";\n\timport * as ButtonGroup from \"$COMPONENTS$/ui/button-group/index.js\";\n\timport type { HTMLAttributes } from \"svelte/elements\";\n\timport type { Snippet } from \"svelte\";\n\n\tinterface Props extends HTMLAttributes<HTMLSpanElement> {\n\t\tclass?: string;\n\t\tchildren?: Snippet;\n\t}\n\n\tlet { class: className, children, ...restProps }: Props = $props();\n\n\tconst branchContext = getMessageBranchContext();\n</script>\n\n<ButtonGroup.Text\n\tclass={cn(\"text-muted-foreground border-none bg-transparent shadow-none\", className)}\n\t{...restProps}\n>\n\t{#if children}\n\t\t{@render children()}\n\t{:else}\n\t\t{branchContext.currentBranch + 1} of {branchContext.totalBranches}\n\t{/if}\n</ButtonGroup.Text>\n",
			"type": "registry:component",
			"target": "ai-elements/new-message/MessageBranchPage.svelte"
		},
		{
			"content": "<script lang=\"ts\">\n\timport { cn } from \"$UTILS$\";\n\timport { Button } from \"$COMPONENTS$/ui/button/index.js\";\n\timport * as Tooltip from \"$COMPONENTS$/ui/tooltip/index.js\";\n\timport Paperclip from \"@lucide/svelte/icons/paperclip\";\n\timport X from \"@lucide/svelte/icons/x\";\n\timport type { HTMLAttributes } from \"svelte/elements\";\n\n\t// FileUIPart type from AI SDK\n\tinterface FileUIPart {\n\t\ttype: \"file\";\n\t\tfilename?: string;\n\t\tmediaType?: string;\n\t\turl?: string;\n\t}\n\n\tinterface Props extends HTMLAttributes<HTMLDivElement> {\n\t\tdata: FileUIPart;\n\t\tclass?: string;\n\t\tonRemove?: () => void;\n\t}\n\n\tlet { data, class: className, onRemove, ...restProps }: Props = $props();\n\n\tlet filename = $derived(data.filename || \"\");\n\tlet mediaType = $derived(data.mediaType?.startsWith(\"image/\") && data.url ? \"image\" : \"file\");\n\tlet isImage = $derived(mediaType === \"image\");\n\tlet attachmentLabel = $derived(filename || (isImage ? \"Image\" : \"Attachment\"));\n\n\tfunction handleRemove(e: MouseEvent) {\n\t\te.stopPropagation();\n\t\tonRemove?.();\n\t}\n</script>\n\n<div class={cn(\"group relative size-24 overflow-hidden rounded-lg\", className)} {...restProps}>\n\t{#if isImage}\n\t\t<img\n\t\t\talt={filename || \"attachment\"}\n\t\t\tclass=\"size-full object-cover\"\n\t\t\theight={100}\n\t\t\tsrc={data.url}\n\t\t\twidth={100}\n\t\t/>\n\t\t{#if onRemove}\n\t\t\t<Button\n\t\t\t\taria-label=\"Remove attachment\"\n\t\t\t\tclass=\"bg-background/80 hover:bg-background absolute top-2 right-2 size-6 rounded-full p-0 opacity-0 backdrop-blur-sm transition-opacity group-hover:opacity-100 [&>svg]:size-3\"\n\t\t\t\tonclick={handleRemove}\n\t\t\t\ttype=\"button\"\n\t\t\t\tvariant=\"ghost\"\n\t\t\t>\n\t\t\t\t<X />\n\t\t\t\t<span class=\"sr-only\">Remove</span>\n\t\t\t</Button>\n\t\t{/if}\n\t{:else}\n\t\t<Tooltip.Provider>\n\t\t\t<Tooltip.Root>\n\t\t\t\t<Tooltip.Trigger>\n\t\t\t\t\t{#snippet child({ props })}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\tclass=\"bg-muted text-muted-foreground flex size-full shrink-0 items-center justify-center rounded-lg\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Paperclip class=\"size-4\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/snippet}\n\t\t\t\t</Tooltip.Trigger>\n\t\t\t\t<Tooltip.Content>\n\t\t\t\t\t<p>{attachmentLabel}</p>\n\t\t\t\t</Tooltip.Content>\n\t\t\t</Tooltip.Root>\n\t\t</Tooltip.Provider>\n\t\t{#if onRemove}\n\t\t\t<Button\n\t\t\t\taria-label=\"Remove attachment\"\n\t\t\t\tclass=\"hover:bg-accent size-6 shrink-0 rounded-full p-0 opacity-0 transition-opacity group-hover:opacity-100 [&>svg]:size-3\"\n\t\t\t\tonclick={handleRemove}\n\t\t\t\ttype=\"button\"\n\t\t\t\tvariant=\"ghost\"\n\t\t\t>\n\t\t\t\t<X />\n\t\t\t\t<span class=\"sr-only\">Remove</span>\n\t\t\t</Button>\n\t\t{/if}\n\t{/if}\n</div>\n",
			"type": "registry:component",
			"target": "ai-elements/new-message/MessageAttachment.svelte"
		},
		{
			"content": "<script lang=\"ts\">\n\timport { cn } from \"$UTILS$\";\n\timport type { Snippet } from \"svelte\";\n\timport type { HTMLAttributes } from \"svelte/elements\";\n\n\tinterface Props extends HTMLAttributes<HTMLDivElement> {\n\t\tclass?: string;\n\t\tchildren?: Snippet;\n\t}\n\n\tlet { class: className, children, ...restProps }: Props = $props();\n\n\t// Check if children is provided\n\tlet hasChildren = $derived(!!children);\n</script>\n\n{#if hasChildren}\n\t<div class={cn(\"ml-auto flex w-fit flex-wrap items-start gap-2\", className)} {...restProps}>\n\t\t{@render children?.()}\n\t</div>\n{/if}\n",
			"type": "registry:component",
			"target": "ai-elements/new-message/MessageAttachments.svelte"
		},
		{
			"content": "import { getContext, setContext } from \"svelte\";\nimport type { Snippet } from \"svelte\";\n\n// Message Branch Context Types\nexport type MessageBranchContextType = {\n\tcurrentBranch: number;\n\ttotalBranches: number;\n\tgoToPrevious: () => void;\n\tgoToNext: () => void;\n\tbranches: Snippet[];\n\tsetBranches: (branches: Snippet[]) => void;\n};\n\nconst MESSAGE_BRANCH_CONTEXT_KEY = Symbol(\"message-branch-context\");\n\n// MessageBranch Class for state management\nexport class MessageBranchClass {\n\tcurrentBranch = $state(0);\n\tbranches = $state<Snippet[]>([]);\n\tprivate _branchCount = $state(0);\n\n\tconstructor(defaultBranch: number = 0) {\n\t\tthis.currentBranch = defaultBranch;\n\t}\n\n\tget totalBranches() {\n\t\t// Use explicit count if set, otherwise fall back to branches array length\n\t\treturn this._branchCount > 0 ? this._branchCount : this.branches.length;\n\t}\n\n\tsetBranches(newBranches: Snippet[]) {\n\t\tthis.branches = newBranches;\n\t\tthis._branchCount = newBranches.length;\n\t}\n\n\tsetBranchCount(count: number) {\n\t\tthis._branchCount = count;\n\t}\n\n\tgoToPrevious() {\n\t\tconst total = this.totalBranches;\n\t\tconst newBranch = this.currentBranch > 0 ? this.currentBranch - 1 : total - 1;\n\t\tthis.currentBranch = newBranch;\n\t}\n\n\tgoToNext() {\n\t\tconst total = this.totalBranches;\n\t\tconst newBranch = this.currentBranch < total - 1 ? this.currentBranch + 1 : 0;\n\t\tthis.currentBranch = newBranch;\n\t}\n}\n\nexport function setMessageBranchContext(context: MessageBranchClass) {\n\treturn setContext(MESSAGE_BRANCH_CONTEXT_KEY, context);\n}\n\nexport function getMessageBranchContext(): MessageBranchClass {\n\tconst context = getContext<MessageBranchClass>(MESSAGE_BRANCH_CONTEXT_KEY);\n\n\tif (!context) {\n\t\tthrow new Error(\"MessageBranch components must be used within MessageBranch\");\n\t}\n\n\treturn context;\n}\n\n// Message Role Type\nexport type MessageRole = \"user\" | \"assistant\" | \"system\" | \"function\" | \"data\" | \"tool\";\n",
			"type": "registry:file",
			"target": "ai-elements/new-message/message-context.svelte.ts"
		},
		{
			"content": "// Main Message Components\nimport Message from \"./Message.svelte\";\nimport MessageContent from \"./MessageContent.svelte\";\nimport MessageActions from \"./MessageActions.svelte\";\nimport MessageAction from \"./MessageAction.svelte\";\nimport MessageToolbar from \"./MessageToolbar.svelte\";\n\n// Branch Components\nimport MessageBranch from \"./MessageBranch.svelte\";\nimport MessageBranchContent from \"./MessageBranchContent.svelte\";\nimport MessageBranchSelector from \"./MessageBranchSelector.svelte\";\nimport MessageBranchPrevious from \"./MessageBranchPrevious.svelte\";\nimport MessageBranchNext from \"./MessageBranchNext.svelte\";\nimport MessageBranchPage from \"./MessageBranchPage.svelte\";\n\n// Response Component\nimport MessageResponse from \"./MessageResponse.svelte\";\n\n// Attachment Components\nimport MessageAttachment from \"./MessageAttachment.svelte\";\nimport MessageAttachments from \"./MessageAttachments.svelte\";\n\n// Export context utilities\nexport * from \"./message-context.svelte.js\";\n\nexport {\n\t// Main components\n\tMessage,\n\tMessageContent,\n\tMessageActions,\n\tMessageAction,\n\tMessageToolbar,\n\t// Branch components\n\tMessageBranch,\n\tMessageBranchContent,\n\tMessageBranchSelector,\n\tMessageBranchPrevious,\n\tMessageBranchNext,\n\tMessageBranchPage,\n\t// Response\n\tMessageResponse,\n\t// Attachments\n\tMessageAttachment,\n\tMessageAttachments,\n};\n",
			"type": "registry:file",
			"target": "ai-elements/new-message/index.ts"
		}
	]
}